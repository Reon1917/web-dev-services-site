---
import Container from "@/components/site/Container.astro";
import SectionHeading from "@/components/site/SectionHeading.astro";
import ButtonLink from "@/components/site/ButtonLink.astro";
import { site } from "@/lib/site";

const formatTHB = (value: number) =>
  new Intl.NumberFormat("th-TH", {
    style: "currency",
    currency: "THB",
    maximumFractionDigits: 0,
  }).format(value);
---

<section id="services" class="border-t border-border/60">
  <Container class="py-16 sm:py-20">
    <SectionHeading
      eyebrow="Services & fees"
      title="Simple packages, designed to convert"
      description="Pick a package that fits your business today — you can always expand later."
      align="center"
    />

    <div class="mt-10 grid gap-6 lg:grid-cols-3">
      {site.services.map((pkg) => (
        <article class="flex h-full flex-col rounded-2xl border border-border bg-card p-6 shadow-sm">
          <header>
            <p class="text-sm font-semibold">{pkg.name}</p>
            <p class="mt-1 text-sm text-muted-foreground">{pkg.pageLimitLabel}</p>
            <p class="mt-4 text-3xl font-semibold tracking-tight">
              {formatTHB(pkg.priceTHB)}
            </p>
            <p class="mt-2 text-sm text-muted-foreground">{pkg.bestFor}</p>
          </header>

          <ul class="mt-6 space-y-3 text-sm text-muted-foreground">
            {pkg.highlights.map((item) => (
              <li class="flex gap-2">
                <span class="mt-1 size-1.5 shrink-0 rounded-full bg-primary" />
                <span>{item}</span>
              </li>
            ))}
          </ul>

          <div class="mt-auto pt-8">
            <ButtonLink href="#contact" variant="secondary" class="w-full">
              Ask about this package
            </ButtonLink>
          </div>
        </article>
      ))}
    </div>

    <div class="mt-10 grid gap-6 rounded-2xl border border-border bg-card p-6 sm:grid-cols-2 sm:items-center">
      <div>
        <p class="text-sm font-semibold">Hosting & maintenance</p>
        <p class="mt-2 text-sm text-muted-foreground">
          Want a “done-for-you” setup? I can handle hosting setup and ongoing maintenance
          so your site stays fast and up-to-date.
        </p>
      </div>
      <div class="grid gap-3">
        {site.addOns.map((item) => (
          <div class="rounded-xl bg-secondary p-4">
            <p class="text-sm font-semibold">{item.name}</p>
            <p class="mt-1 text-sm text-muted-foreground">{item.description}</p>
          </div>
        ))}
      </div>
    </div>

    <p class="mt-6 text-center text-xs text-muted-foreground">
      Note: domain + hosting fees are paid directly by you. I’ll guide you step-by-step.
    </p>
  </Container>
</section>
